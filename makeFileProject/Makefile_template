#===================================================================================================
# Name        : Makefile Project
# Copyright   : Edges For Training
# Description : A Makefile to compile and link a modular program with separate source files for 
#               simple and complex operations. It organizes include directories, source directories,
#               and builds the final executable. This is just a template you can start with your
#				own Makefile (remember makefile names: Makefile - Name.mk - Name < make -f Name >)
#===================================================================================================

# Main Directories
ROOT_DIR = home/Joe/makeFileProject
APP_DIR = $(ROOT_DIR)/Application
MODULES_DIR = $(ROOT_DIR)/Modules

# Modules Directories
CAESAR_CIPHER_DIR = $(MODULES_DIR)/caesar_cipher
XOR_CIPHER_DIR = $(MODULES_DIR)/xor_cipher

# Application Directories
APP_OUT_DIR = $(APP_DIR)/out
APP_OBJ_DIR = $(APP_OUT_DIR)/gen
APP_LIB_DIR = $(APP_OUT_DIR)/libs
APP_BIN = $(APP_DIR)/output

# Modules Source files
CAESAR_CIPHER_SRC = $(CAESAR_CIPHER_DIR)/src/caesar_encrypt.c $(CAESAR_CIPHER_DIR)/src/caesar_decrypt.c
XOR_CIPHER_SRC = $(XOR_CIPHER_DIR)/src/xor_encrypt.c $(XOR_CIPHER_DIR)/src/xor_decrypt.c

# Modules Object files
CAESAR_CIPHER_OBJ = $(APP_OBJ_DIR)/caesar_encrypt.o $(APP_OBJ_DIR)/caesar_decrypt.o
XOR_CIPHER_OBJ = $(APP_OBJ_DIR)/xor_encrypt.o $(APP_OBJ_DIR)/xor_decrypt.o

# Modules Library files
CAESAR_CIPHER_LIB = $(APP_LIB_DIR)/libcaesar_cipher.a
XOR_CIPHER_LIB = $(APP_LIB_DIR)/libxor_cipher.so

# Application Source files
APP_SRC = $(APP_DIR)/app.c

# Application Object files
APP_OBJ = $(APP_OBJ_DIR)/app.o

# all and clean
.PHONY: all clean

all: $(APP_BIN)

#make the directories 
$(APP_OBJ_DIR):
	mkdir -p $(APP_OBJ_DIR)

$(APP_LIB_DIR):
	mkdir -p $(APP_LIB_DIR)

# 1) Compile and archive the caesar_cipher static library:
#       - a rule to compile the 2 source files and generate 2 object files 
#       - a rule to archive these 2 object files into a library file
# 





# 2) Compile and generate the xor_cipher dynamic library:
#       - a rule to compile the 2 source files and generate 2 object files 
#       - a rule to link these 2 object files into a dynamic library file
# 


# 3) Compile the app source file to generate the app object file (one rule)
# 


# 4) Link them all together (one rule)
# 


# 5) one rule to clean the project
